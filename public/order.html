<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRG | Order Page</title>
    <link rel="icon" type="image/x-icon" href="images/logo.png">
    <link rel="stylesheet" href="headerfooter-style.css">
    <link rel="stylesheet" href="order-style.css">
</head>
<body>

    <div id="progress"></div>
    <div id="negative"></div>
    
    <div class="headercontainer">
        
        <div class="leftgrid">
            <div>EST. 2023</div>
            <div>BORN IN QC</div>
        </div>
    
        <div class="center">
            <div class="hamburger" id="hamburger" onclick="toggleMenu()">
                &#9776; 
            </div>
            <div class="navlinks" id="navlinks">
                <div><a href="index.html">HOME</a></div>
                <div><a href="about.html">ABOUT</a></div>
                <div><a href="portfolio.html">PORTFOLIO</a></div>
                <div><a href="order.html">ORDER</a></div>
                <div><a href="contact.html">CONTACT</a></div>
            </div>
        </div>
    
        <div class="right">
            <a href="login.html"> <img id="profile" src="images/profile.png" alt="Profile"></a>
            <a href="cart.html"><img id="cart" src="images/cart.png" alt="Cart"></a>
        </div>
    </div>

    <div class="headerbanner">
        <div class="hbcontents">
            <img id="hbanner" src="images/hbanner.jpg" alt="Header Banner">
            <img id="logohb" src="images/whitelogo.png" alt="White Logo">
        </div>
    </div>

    <div class="titlecontainer">
        <p id="abt">ORDER</p>
    </div>

    <div class="popupcontainer">
        <div class="popup">
            <span><b>FREE SHIPPING</b> within Metro Manila!</span>
            <span>Order now and get <b>10% OFF!</b></span>
        </div>
    </div>

    <!-- John's Edits -->

    <form id="order-form" method="POST" action="/upload">

        <fieldset id="details-container">

            <img id="details-logo" src="images/whitelogo.png" alt="White Logo">

            <legend>&#160;Order Details&#160;</legend>

            <label for="sizes">Size:</label>
            <select name="sizes" id="sizes">

                <option value="square">Square - 10 x 10 in. [Php 800.00]</option>
                <option value="rectangle">Rectangle - 20 x 10 in. [Php 1000.00]</option>
                <option value="circle">Circle - 10 x 10 in. [Php 600.00]</option>
                <option value="oval">Oval - 20 x 10 in. [Php 800.00]</option>
                <option value="custom">Custom - Per Square Inch [Php 100.00]</option>

            </select>


            <label for="photo">Upload Photo Here:</label>
            <div id="photo-container">

                <input type="file" name="photo" class="photo" value="Choose File">
            
                <button id="add-file">Add Another File</button>

                <button id="remove-file">Remove File</button>

            </div>

            <p id="photo-prompt">The photos uploaded will be used to guide<br>us in making your customized rug.</p>

            <label for="notes1">Notes:</label>
            <textarea name="notes1" id="notes" placeholder="Type your notes here"></textarea>

        </fieldset>

        <fieldset id="billing-container">

            <legend>&#160;Billing Information&#160;</legend>

           <label for="fname">First Name:</label>
           <input type="text" name="fname" id="fname">

           <label for="lname">First Name:</label>
           <input type="text" name="lname" id="lname">

           <label for="email">Active Email:</label>
           <input type="text" name="email" id="email">

           <label for="instagram">Instagram Username:</label>
           <input type="text" name="instagram" id="instagram">

           <label for="number">Mobile Number:</label>
           <input type="text" name="number" id="number">

            <label for="address">Address:</label>
            <textarea name="address" id="address" placeholder="Type your address here"></textarea>

            <label for="notes2">Notes:</label>
            <textarea name="notes2" id="notes" placeholder="Type your notes here"></textarea>

        </fieldset>

        <fieldset id="payment-container">
            
            <legend>&#160;Payment Details   &#160;</legend>

            <div id="gcash">

                <label for="logo">GCash</label>
                <img src="images\gcash.png" alt="gcash.png">

            </div>

            <div id="bank">

                <label for="logo">Bank</label>
                <img src="images\bank.png" alt="bank.png">

            </div>

            
            <div id="proof">

                <label for="proof">Upload Proof of Payment Here:</label>
                <input type="file" id="payment-proof" name="proof">

            </div>

        </fieldset>

        <div id="success-container">

            <span id="loading-prompt">Processing your order!</span>
            <div id="loading-order"></div>

            <img src="images/whitelogo.png" alt="whitelogo.png">

            <h1 id="order-received">Order #0123 Received!</h1>

            <span id="order-message">

                We may reach out to you for<br>
                additional details about your<br>
                order, so please stay tuned<br>
                Thank you for your patience!

            </span>

        </div>

        <input type="submit" id="submit">

    </form>

    <!-- John's Edits -->

    <div class="footercontainer">
        <img id="footerlogo" src="images/whitelogo.png" alt="Logo">
        <div class="ftrlefttext">
            <div class="phone">
                <img id="phone" src="images/phone.png" alt="Phone">
                <div>+63 9762682977</div>
            </div>

            <div class="ig">
                <img id="iglogo" src="images/iglogo.png" alt="Instagram Logo">
                <div>@tiyarjiz</div>
            </div>

            <div id="biqc">Based in Quezon City.</div>
        </div>
    </div>

    <script>
        document.getElementById('hamburger').addEventListener('click', function() {
        const navlinks = document.getElementById('navlinks');
        navlinks.classList.toggle('show');
    
        this.style.color = 'white'; 
        
        });

        const photoContainer = document.getElementById("photo-container");
        const addFile = document.getElementById("add-file");
        const removeFile = document.getElementById("remove-file");
        const breakLine = document.getElementById("break");
        

        addFile.addEventListener("click", function()
        {
            event.preventDefault();
            
            const newPhoto = document.createElement("input");
            newPhoto.type = "file"
            newPhoto.className = "photo"

            photoContainer.insertBefore(newPhoto, addFile)
        });

        removeFile.addEventListener("click", function(event)
        {
            const photo = photoContainer.querySelectorAll(".photo");

            event.preventDefault();

            if(photo.length > 1)
            {
                photoContainer.removeChild(photo[photo.length - 1])
            }
        });

        function scroll()
        {
            let progress = document.getElementById("progress");
            let docHeight = document.documentElement.scrollHeight;
            let vpHeight = window.innerHeight;

            let percentage = (scrollY / (docHeight - vpHeight)) * 100;
            progress.style.width = percentage + "%"
        }
        
        window.onscroll = scroll;

        window.onload = scroll;
        
        const form = document.getElementById("order-form");
        const success = document.getElementById("success-container");
        const received = document.getElementById("order-received");
        const message = document.getElementById("order-message");
        const loadingBar = document.getElementById("loading-order");
        const loadingPrompt = document.getElementById("loading-prompt");
        

        let id = null;

        form.addEventListener("submit", (event) =>
        {
            event.preventDefault();

            received.style.display = "none";
            message.style.display = "none";

            success.style.display = "flex";
            loadingBar.style.display = "flex";

            if(id !== null)
            {
                clearInterval(id);
                id = null;
            }

            let width = 0;
            loadingBar.style.width = width + "%";
            
            id = setInterval(loadingAnimation, 20);

            function loadingAnimation()
            {
                loadingPrompt.innerHTML = width + "%";
                if(width >= 100)
                {
                    clearInterval(id)
                    id = null;
                    success.style.display = "flex";
                    loadingPrompt.innerHTML = "Processing Complete!";
                    received.style.display = "block";
                    message.style.display = "block";
                }
                else
                {
                    width++;
                    loadingBar.style.width = width + "%";
                }
            }
        });

    </script>
</body>
</html>